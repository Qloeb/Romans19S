<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>Romans 19S - Prédictions</title>

    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/css-doodle"></script>
    <script src="{{ url_for('static', filename='js/doodle.js') }}"></script>

    <link rel="stylesheet" href="https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.css" crossorigin="anonymous">
    <script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>

<body>
    <!-- <div id="doodle-container">
        <css-doodle click-to-update></css-doodle>
    </div> -->
    <!-- Barre de navigation -->
    <nav>
        <ul class="nav">
            <li class="nav-item"><a href="{{ url_for('predictions') }}">prédictions</a></li>
            <li class="nav-item"><a href="{{ url_for('modeles') }}">modèles</a></li>
            <li class="nav-item"><a href="{{ url_for('home') }}">accueil</a></li>
            <li class="nav-title">analyse de données textuelles</li>
        </ul>
    </nav>

    <form action="/predictions" method="POST">


        <label for="text_input">entrez votre texte :</label>
        <textarea id="text_input" name="text_input" rows="4" cols="50"></textarea><br><br>

        <label for="selection">choisissez une option :</label>
        <select id="selection" name="selection">
            <option value="lr" selected>Régression logistique</option>
            <option value="mnb">Multinomial NB</option>
            <option value="dt">Arbre de Décision</option>
            <option value="rf">Random Forest</option>
            <option value="ada">AdaBoost</option>
        </select><br><br>

        <input type="submit" value="envoyer">

        
        <p id="prediction"></p>
        {% if prediction %}
        <p>Prédiction : {{ prediction }}</p>
        {% else %}
        <p>Pas de prédiction à afficher.</p>
        {% endif %}


        <div id="proba_chart"></div>
        {% if probabilities %}
        {{ script|safe }}
        {{ div|safe }}
        {% else %}
        <p>Pas de probabilités à afficher.</p>
        {% endif %}

    </form>

</body>

</html>